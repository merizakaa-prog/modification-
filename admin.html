<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>إدارة الأطباق</title>
<style>
body{font-family:tahoma;background:#f3f3f3;padding:20px}
.card{background:#fff;padding:15px;margin-bottom:15px;border-radius:10px}
input{width:100%;padding:6px;margin:5px 0}
img{width:80px;height:80px;border-radius:50%;cursor:pointer;border:2px solid #8b0000}
button{padding:8px;background:#8b0000;color:#fff;border:none;border-radius:6px;width:100%}
</style>
</head>
<body>

<h2>لوحة التحكم</h2>
<div id="panel"></div>

<script>
const images=["makla1.png","makla2.png","makla3.png"];

// قراءة الأطباق
let dishes = JSON.parse(localStorage.getItem("dishes")) || [];

const panel = document.getElementById("panel");

dishes.forEach((dish,index)=>{
  const card = document.createElement("div");
  card.className="card";

  const img = document.createElement("img");
  img.src = dish.image;
  img.onclick = ()=>{
    let i = images.indexOf(img.src.split("/").pop());
    img.src = images[(i+1)%images.length];
  };

  const name = document.createElement("input");
  name.value = dish.name;

  const price = document.createElement("input");
  price.type="number";
  price.value = dish.price;

  const btn = document.createElement("button");
  btn.textContent="حفظ";
  btn.onclick = ()=>{
    dish.name = name.value;
    dish.price = price.value;
    dish.image = img.src.split("/").pop();

    localStorage.setItem("dishes", JSON.stringify(dishes));
    alert("تم الحفظ ✔");
  };

  card.append(img,name,price,btn);
  panel.appendChild(card);
});
</script>

</body>
</html>

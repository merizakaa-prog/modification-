<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>لوحة التحكم</title>
<style>
body{font-family:tahoma;background:#f3f3f3;padding:20px}
.card{background:#fff;padding:15px;margin-bottom:15px;border-radius:10px}
input{width:100%;padding:6px;margin:5px 0}
textarea{width:100%;height:200px}
</style>
</head>
<body>

<h2>لوحة التحكم</h2>
<div id="panel"></div>

<h3>JSON النهائي (انسخه إلى GitHub)</h3>
<textarea id="output"></textarea>

<script>
const url = "https://username.github.io/project/dishes.json";

fetch(url)
.then(res=>res.json())
.then(dishes=>{
  const panel=document.getElementById("panel");

  dishes.forEach(d=>{
    let div=document.createElement("div");
    div.className="card";

    let name=document.createElement("input");
    name.value=d.name;
    let price=document.createElement("input");
    price.type="number";
    price.value=d.price;

    // أي تغيير يحدث هنا يحدث على JSON المعروض أسفل
    name.oninput=price.oninput=()=>{
      d.name=name.value;
      d.price=price.value;
      document.getElementById("output").value=
        JSON.stringify(dishes,null,2);
    };

    div.append(name,price);
    panel.appendChild(div);
  });

  document.getElementById("output").value=
    JSON.stringify(dishes,null,2);
});
</script>

</body>
</html>
